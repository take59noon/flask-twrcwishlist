{% extends "wishlist/index.html" %}

{% block title %}
  Artists
{% endblock %}

{% block search %}
  <div class="my-4">
    <select class="select-artist" style="width: 20rem;">
      <option value=""></option>
      {% for artist in artists %}
        <option value="{{ artist.id }}">{{ artist.name }}</option>
      {% endfor %}
    </select>
  </div>

  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <script>
    $(document).ready(function() {
      var $eventSelect = $('.select-artist');

      $eventSelect.select2({
        placeholder: 'アーティストを指定できます。',
        // allowClear: true,
        // theme: 'classic',
        width: 'resolve',
      });

      $eventSelect.on('select2:select', function(e) {
        // Do something
        location.href = "/artists/" + e.params.data.id;
      });
    });
  </script>
{% endblock %}
